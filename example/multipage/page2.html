<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>JSChannel example: page 2</title>
    <script src="../../src/jschannel.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Page 2</h1>
    <a href="page1.html">&larr; page 1</a>

    <script>
        var chan = Channel.build({
            window: window.parent, 
            origin: "*", 
            scope: "testScope"
        });

        chan.notify({
            method: "navigate",
            params: {
                url:document.URL
            }
        })

        chan.bind("sendNotification", function(trans, s) {
            chan.notify({method: "notify", params: "Hi, I'm page 2 ..." });
        });

    </script>
</body>
</html>